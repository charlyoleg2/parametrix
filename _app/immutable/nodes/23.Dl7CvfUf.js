import"../chunks/DsnmJJEf.js";import{p as z,ak as p,an as E,f as T,s as i,a as A,d as _,t as K,b as L,c as B,am as s,K as t,r as u,aj as H,al as J}from"../chunks/DDEMFpgR.js";import{d as Q,r as V,s as S}from"../chunks/BRgS8L5A.js";import{i as X}from"../chunks/D8pUSFuR.js";import{e as Y,c as Z}from"../chunks/dtMORap4.js";import{c as ee}from"../chunks/BkeL-khA.js";import{a as te}from"../chunks/BjLAz-Yc.js";import{s as D}from"../chunks/CmkgGMsS.js";import{O as ae}from"../chunks/CZQ5Aktp.js";import{b as se}from"../chunks/BHN9AckN.js";async function re(v,n,o){s(n,await o(v),!0)}function le(v,n,o,m,f,g){s(n,""),s(o,[],!0),s(m,!0),s(f,!1),s(g,!1)}var oe=(v,n,o)=>n(o),ie=T('<li class="svelte-o7hpwe"><button class="svelte-o7hpwe"> </button> </li>'),ne=T('<h1 class="svelte-o7hpwe">Dynamic import of geometrix-design</h1> <article><h3 class="svelte-o7hpwe">Load a javascript-geometrix-design-library-file</h3> <p class="svelte-o7hpwe">To generate the javascript embedding its dependencies, use:<br/><code>npx esbuild src/myGroup1/myPartA.ts --bundle --format=esm --outfile=dist2/myPartA.js</code></p> <label for="loadDLib" class="fileUpload svelte-o7hpwe">Load design-file</label> <input type="file" id="loadDLib" accept="text/javascript" class="svelte-o7hpwe"/> <textarea rows="3" cols="80" readonly="" wrap="soft" class="svelte-o7hpwe"></textarea></article> <article><h3 class="svelte-o7hpwe">Select a design-page</h3> <ol></ol></article> <article><button class="higher svelte-o7hpwe">Reset dynamic design</button></article> <!>',1);function be(v,n){z(n,!0);let o=p(!0),m=p(!1),f=p(!1),g=p(""),b=p(E([])),c=p(E({})),k=p(void 0);async function C(a){let e="";if(a.target){const l=a.target.files;if(l){const r=l[0];if(!r.name.endsWith(".js"))return e+=`err308: ${r.name} has an unexpected file extension!
`,e;const d=URL.createObjectURL(r);e+=`import the design from ${r.name}
`;try{s(c,await import(d),!0);const[h,j]=Z(t(c));e+=j,h?(s(b,[],!0),e+=`err672: Error by loading ${r.name}
`):(s(b,Object.keys(t(c)),!0),s(m,!0))}catch(h){const j=`err739: Error by importing ${r.name}
`;e+=`${j}
`,console.log(j),console.log(h)}URL.revokeObjectURL(d)}}return e}function G(a){s(k,t(c)[a],!0),s(o,!1),s(m,!1),s(f,!0)}const I=J(()=>t(f)?ae:null);var $=ne(),w=i(A($),2);let R;var U=i(_(w),6);U.__change=[re,g,C];var O=i(U,2);V(O),u(w);var x=i(w,2);let P;var F=i(_(x),2);Y(F,20,()=>t(b),a=>a,(a,e)=>{var l=ie(),r=_(l);r.__click=[oe,G,e];var d=_(r,!0);u(r);var h=i(r);u(l),K(()=>{S(d,e),S(h,` - ${t(c)[e].pDef.partName??""}
				- ${t(c)[e].pTitle??""}
				- ${t(c)[e].pDescription??""}`)}),L(a,l)}),u(F),u(x);var y=i(x,2);let M;var N=_(y);N.__click=[le,g,b,o,m,f],u(y);var W=i(y,2);{var q=a=>{var e=H(),l=A(e);ee(l,()=>t(I),(r,d)=>{d(r,{get pageDef(){return t(k)},get pLink(){return se}})}),L(a,e)};X(W,a=>{t(k)&&a(q)})}K((a,e,l)=>{R=D(w,1,"svelte-o7hpwe",null,R,a),te(O,t(g)),P=D(x,1,"svelte-o7hpwe",null,P,e),M=D(y,1,"svelte-o7hpwe",null,M,l)},[()=>({step1:t(o)}),()=>({step2:t(m)}),()=>({step3:t(f)})]),L(v,$),B()}Q(["change","click"]);export{be as component};

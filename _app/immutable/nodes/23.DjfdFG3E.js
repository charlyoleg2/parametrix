import"../chunks/DsnmJJEf.js";import{p as H,aa as i,ad as M,s as o,f as E,t as A,a as L,b as J,d as p,c as T,ab as s,V as t,ae as Q,r as m,a9 as X,ac as Y}from"../chunks/BbPHKYFl.js";import{d as Z,a as j,s as S}from"../chunks/CqIcUl-F.js";import{i as ee}from"../chunks/C03kjGj3.js";import{e as te,c as ae}from"../chunks/D3CViFKh.js";import{c as se}from"../chunks/ByuAgG_U.js";import{a as re}from"../chunks/B32sI_Hj.js";import{s as D}from"../chunks/B0OaGDzO.js";import{O as le}from"../chunks/CknSjccJ.js";import{b as oe}from"../chunks/BuB0ayvV.js";var ce=T('<li class="svelte-1kumcmu"><button class="svelte-1kumcmu"> </button> </li>'),ie=T('<h1 class="svelte-1kumcmu">Dynamic import of geometrix-design</h1> <article><h3 class="svelte-1kumcmu">Load a javascript-geometrix-design-library-file</h3> <p class="svelte-1kumcmu">To generate the javascript embedding its dependencies, use:<br/><code>npx esbuild src/myGroup1/myPartA.ts --bundle --format=esm --outfile=dist2/myPartA.js</code></p> <label for="loadDLib" class="fileUpload svelte-1kumcmu">Load design-file</label> <input type="file" id="loadDLib" accept="text/javascript" class="svelte-1kumcmu"/> <textarea rows="3" cols="80" readonly="" wrap="soft" class="svelte-1kumcmu"></textarea></article> <article><h3 class="svelte-1kumcmu">Select a design-page</h3> <ol></ol></article> <article><button class="higher svelte-1kumcmu">Reset dynamic design</button></article> <!>',1);function ke(C,G){H(G,!0);let _=i(!0),f=i(!1),d=i(!1),x=i(""),v=i(M([])),c=i(M({})),y=i(void 0);async function I(a){let e="";if(a.target){const l=a.target.files;if(l){const r=l[0];if(!r.name.endsWith(".js"))return e+=`err308: ${r.name} has an unexpected file extension!
`,e;const n=URL.createObjectURL(r);e+=`import the design from ${r.name}
`;try{s(c,await import(n),!0);const[u,k]=ae(t(c));e+=k,u?(s(v,[],!0),e+=`err672: Error by loading ${r.name}
`):(s(v,Object.keys(t(c)),!0),s(f,!0))}catch(u){const k=`err739: Error by importing ${r.name}
`;e+=`${k}
`,console.log(k),console.log(u)}URL.revokeObjectURL(n)}}return e}async function K(a){s(x,await I(a),!0)}function N(a){s(y,t(c)[a],!0),s(_,!1),s(f,!1),s(d,!0)}function V(){s(x,""),s(v,[],!0),s(_,!0),s(f,!1),s(d,!1)}const W=Y(()=>t(d)?le:null);var $=ie(),g=o(E($),2);let R;var U=o(p(g),6),O=o(U,2);Q(O),m(g);var b=o(g,2);let P;var w=o(p(b),2);te(w,20,()=>t(v),a=>a,(a,e)=>{var l=ce(),r=p(l),n=p(r,!0);m(r);var u=o(r);m(l),A(()=>{S(n,e),S(u,` - ${t(c)[e].pDef.partName??""}
				- ${t(c)[e].pTitle??""}
				- ${t(c)[e].pDescription??""}`)}),j("click",r,()=>N(e)),L(a,l)}),m(w),m(b);var h=o(b,2);let F;var q=p(h);m(h);var z=o(h,2);{var B=a=>{var e=X(),l=E(e);se(l,()=>t(W),(r,n)=>{n(r,{get pageDef(){return t(y)},get pLink(){return oe}})}),L(a,e)};ee(z,a=>{t(y)&&a(B)})}A(()=>{R=D(g,1,"svelte-1kumcmu",null,R,{step1:t(_)}),re(O,t(x)),P=D(b,1,"svelte-1kumcmu",null,P,{step2:t(f)}),F=D(h,1,"svelte-1kumcmu",null,F,{step3:t(d)})}),j("change",U,K),j("click",q,V),L(C,$),J()}Z(["change","click"]);export{ke as component};
